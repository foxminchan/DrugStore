@page "/categories/add"
@using DrugStore.BackOffice.Components.Pages.Categories.Requests
@using DrugStore.BackOffice.Constants

<PageTitle>Add Category</PageTitle>

<RadzenColumn SizeMD="12">
    <RadzenAlert Shade="Shade.Lighter" Variant="Variant.Flat" Size="AlertSize.Small" AlertStyle="AlertStyle.Danger"
                 Visible="_error">
        Cannot save Category
    </RadzenAlert>
    <RadzenTemplateForm TItem="CreateCategory" Data="_category" Submit="OnSubmit">
        <RadzenFieldset Text="Category information">
            <RadzenStack Gap="1rem">
                <RadzenRow Style="margin-bottom: 1rem">
                    <RadzenLabel Text="Name" Component="Name"/>
                    <RadzenTextBox Style="display: block"
                                   Name="Name"
                                   ReadOnly="_busy"
                                   @bind-Value="_category.Name"
                                   class="w-100"
                                   Placeholder="Vitamins and Minerals"/>
                    <RadzenRequiredValidator Component="Name"
                                             Text="Name is required"/>
                    <RadzenLengthValidator Component="Name"
                                           Text="@($"Name has {DataTypeLength.SHORT_LENGTH} characters maximum")"
                                           Max="DataTypeLength.SHORT_LENGTH"/>
                </RadzenRow>
                <RadzenRow Style="margin-bottom: 1rem">
                    <RadzenLabel Text="Description" Component="Description"/>
                    <RadzenTextArea Style="display: block"
                                    Name="Description"
                                    ReadOnly="_busy"
                                    @bind-Value="_category.Description"
                                    class="w-100"
                                    Placeholder="A description of Vitamins and Minerals"/>
                    <RadzenLengthValidator Component="Description"
                                           Text="@($"Description has {DataTypeLength.LONG_LENGTH} characters maximum")"
                                           Max="DataTypeLength.LONG_LENGTH"/>
                </RadzenRow>
            </RadzenStack>
        </RadzenFieldset>
        <RadzenStack Style="margin-top:1rem;"
                     Orientation="Orientation.Horizontal"
                     AlignItems="AlignItems.Center"
                     JustifyContent="JustifyContent.Center"
                     Gap="0.5rem">
            <RadzenButton ButtonStyle="ButtonStyle.Primary"
                          ButtonType="ButtonType.Submit"
                          Icon="save"
                          Text="Save"
                          Variant="Variant.Flat"
                          IsBusy="_busy"/>
            <RadzenButton ButtonStyle="ButtonStyle.Light"
                          Icon="cancel"
                          Text="Cancel"
                          Variant="Variant.Flat"
                          IsBusy="_busy"
                          Click="CancelButtonClick"/>
        </RadzenStack>
    </RadzenTemplateForm>
</RadzenColumn>